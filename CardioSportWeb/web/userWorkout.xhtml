<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <meta charset="utf-8"/>
        <title>FA - Dashboard</title>
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, minimum-scale=1, maximum-scale=1"/>
        <link rel="shortcut icon" href="favicon.png"/>
        <!---CSS Files-->
        <link rel="stylesheet" href="css/core.css"/>
        <link rel="stylesheet" href="css/style.css"/>



        <!--        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
        <!---jQuery Files-->
        <script src="js/jquery.js"></script>
        <script src="js/jquery-ui.js"></script>
        <script src="js/inputs.js"></script>
        <script src="js/flot.js"></script>
        <script src="js/functions.js"></script>
        <script src="js/auth.js"></script>
        <script src="js/workout.js"></script>
        <script src="js/trainees.js"></script>
        <script src="js/gmaps.js"></script>

        <style type="text/css">
            #map{
                height: 600px !important; 
                width: calc(100% - 50px) !important;
                z-index: 10000000;
                position: relative;
                display: block;
                margin: 0 auto;
            }
        </style>

    </h:head>
    <h:body>

        <div id="wrapper">

            <!--USER PANEL-->

            <div id="usr-panel">
                <div class="av-overlay"></div>
                <img src="img/avatars/nick.jpg" id="usr-av"/>
                <div id="usr-info">
                    <span id="usr-name">Nick Halden</span><span id="usr-role">Administrator</span>
                    <button id="usr-btn" class="orange" data-modal="#usr-mod #mod-home">User CP</button>
                </div>
            </div>

            <!--NAVIGATION-->

            <div id="nav">
                <ul>
                    <li><a href="workouts.xhtml"></a><span class="icon">&lt;</span>трени ровки</li>
                    <li><a href="activities.xhtml"></a><span class="icon">F</span>актив ности</li>
                    <li ><a href="trainees.xhtml"></a><span class="icon">H</span>Спорт смены</li>
                    <!--                    <li class="active"><span class="icon">G</span>следить</li>-->
                    <li><a href="extras.html"></a><span class="icon">S</span>Extras</li>
                    <li><a href="grid.html"></a><span class="icon">N</span>Grid</li>
                    <li data-modal="#usr-mod #mod-set" id="set-btn"><span class="icon">)</span>Settings</li>
                    <li id="logout"><a href="index.html"></a><span class="icon icon-grad">B</span>Log Out</li>
                </ul>
                <br class="clear"/>
            </div>

            <div id="content" class="dashboard-page"><!--BEGIN MAIN CONTENT-->

                <!--TABLE-->

                <div id="" class="box g6" style="padding: 10px;">
                    #{traineeWorkoutBean.trainee.firstName} #{traineeWorkoutBean.trainee.lastName}
                    <span class="tag blue  inline" id="status_tag" data-id="#{traineeWorkoutBean.traineeId}">
                        <c:if test="#{traineeWorkoutBean.trainee.currentWorkoutId eq null}">Не назначено</c:if>
                        <c:if test="#{traineeWorkoutBean.trainee.currentWorkoutId ne null}"><span style="color: lightblue;">назначено</span></c:if>
                    </span>
                    <!--                    <span class="blue tag inline"  >назначена тренировка</span>-->
                </div>

                <br class="clear" />
                <br class="clear" />
                <!--                <h1 style="text-align: center; color: rgb(153, 153, 153);">
                                    Тренировка
                                </h1>-->

                <span class="g8">

                    <br/>
                    <c:forEach items="#{traineeWorkoutBean.workoutActivities}" var="a" varStatus="st">
                        <c:if test="#{st.count > 1}">
                            <div class="g14">
                                <div class="icon icon-grad down" style="font-size: 50px; height: 50px; display: block; color: #4b90db; margin: 0 auto; width: 50px;">]</div>
                            </div>
                        </c:if>

                        <div class="box g14" style="position: relative;">
                            <div class="box-ttl1" style="cursor: pointer;" onclick="$(this).next().toggle()">
                                <span class="g6 nomargintop"> 
                                    #{a.name}
                                </span>
                                <span class="g6 nomargintop">
                                    #{a.duration / 60000} мин.
                                </span>
                            </div>
                            <div class="box-body" style="display: none;" >
                                <br/>                               
                                #{a.description}
                                <ul style="margin-top: 20px;">
                                    <li><span class="g8">Минимальный пульс</span> <span class="orange-text g8">#{a.minHeartRate} уд/мин</span></li>
                                    <li><span class="g8">Максимальный пульс</span> <span class="orange-text g8">#{a.maxHeartRate} уд/мин</span></li>
                                    <li><span class="g8">Минимальная скорость</span> <span class="orange-text g8">#{sportsmanBean.round(a.minSpeed * 3.6)} км/ч</span></li>
                                    <li><span class="g8">Максимальная скорость</span> <span class="orange-text g8">#{sportsmanBean.round(a.maxSpeed * 3.6)} км/ч</span></li>
                                    <li><span class="g8">Минимальное напряжение</span> <span class="orange-text g8">#{a.minTension}</span></li>
                                    <li><span class="g8">Максимальное напряжение</span> <span class="orange-text g8">#{a.maxTension}</span></li>
                                </ul>
                            </div>
                        </div>
                    </c:forEach>
                </span>

                <br class="clear"/> 
                <div id="map" ></div>
                <!--                <div class="g16" id="map">
                
                                </div>-->

            </div><!--END MAIN CONTENT-->
            <!--            </div>-->

        </div><!--END WRAPPER-->

        <span id="load">
            <img src="img/load.png"/><img src="img/spinner.png" id="spinner"/>
        </span>

        <!---jQuery Code-->
        <script type='text/javascript'>

            
            
            //            $(function(){
            //                myMap = new GMaps({
            //                    div: '#map',
            //                    lat: -12.043333,
            //                    lng: -77.028333
            //                });
            //            });

            // LOAD FUNCTIONS
            //<![CDATA[
            $.fn.loadfns( function() {
                path = [[37.52173235, 55.92867546666667], [37.52173235, 55.92867546666667], [-12.055122327623378, -77.03039293652341], [-12.075917129727586, -77.02764635449216], [-12.07635776902266, -77.02792530422971], [-12.076819390363665, -77.02893381481931], [-12.088527520066453, -77.0241058385925], [-12.090814532191756, -77.02271108990476]];
                $(function(){
                    myMap = new GMaps({
                        div: '#map',
                        lat: 55.92867546666667,
                        lng: 37.52173235
//                        path: path
                    });
                    
                    myMap.drawPolyline({
                        path: path,
                        strokeColor: '#131540',
                        strokeOpacity: 0.6,
                        strokeWeight: 3
                    });
                });
                
                //                loadAll();
                //                sustainSession();
                $('#trigger-id').modal();
                //                $('#calendar').calEvents();
                $('#ind-cont #nbill').removeClass('init');
                //                if ($('#ind-cont').width() < 500) $('#ind-cont').find('.pie-desc').addClass('overlay');
                //                $(window).resize( function() {
                //                    if ($('body').children('#toast-container').length < 1)
                //                        toastr.info('If content goes out of place when resizing, just hit refresh');
                //                });
            });
            //]]>
        </script>
    </h:body>
</html>
